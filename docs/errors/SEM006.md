# SEM006: Item-Level Serial Number

**Severity:** Warning
**Category:** Semantic Validation

## Description

Passports with `granularityLevel: "item"` require a `serialNumber`.

## Rule Details

Item-level granularity indicates a passport for a specific individual product instance, not a batch or model. Such passports must include a serial number to uniquely identify the specific item.

## Example

### Invalid

```json
{
  "credentialSubject": {
    "granularityLevel": "item",
    "product": {
      "name": "Premium Jacket",
      "model": "PJ-2025"
    }
  }
}
```

**Message:** `granularityLevel is 'item' but serialNumber is missing`

### Valid

```json
{
  "credentialSubject": {
    "granularityLevel": "item",
    "product": {
      "name": "Premium Jacket",
      "model": "PJ-2025",
      "serialNumber": "SN-2025-001234"
    }
  }
}
```

## How to Fix

Either:

1. Add a `serialNumber` to the product
1. Change `granularityLevel` to `"batch"` or `"model"` if appropriate

## Granularity Levels

| Level   | Description                 | Serial Number  |
| ------- | --------------------------- | -------------- |
| `item`  | Individual product instance | Required       |
| `batch` | Production batch            | Optional       |
| `model` | Product model/SKU           | Not applicable |

## References

- [UNTP Granularity Levels](https://untp.unece.org/docs/specification/DigitalProductPassport)
- JSON Path: `$.credentialSubject.granularityLevel`, `$.credentialSubject.product.serialNumber`
